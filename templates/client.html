<!DOCTYPE html>
<html>
<head>
  <title>DM Chat</title>
  <script src="https://cdn.socket.io/4.7.1/socket.io.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/client.css') }}">
  <script src="{{url_for('static', filename='js/character_id.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/client.js') }}"></script>

  <!--<script type="module" src="{{ url_for('static', filename='dist/client-bundle.js') }}"></script>-->


</head>
<body>
  <div class="initiative-input-container">
    <p id="combat-id"></p>
    <div class="initiative-input-background">
        <div class="init-top">
          <button id="hide-init-overlay-button">X</button>
        </div>
        <div class="init-bottom">
          <h3>Input Initiative</h3>
          <input type="number" id="init-number">
          <button id="submit-init-button">Submit</button>
        </div>
    </div>
  </div>

  <div class="character-sheet-overlay-container">
    <div class="character-sheet-overlay-button">
    </div>
    <div class="character-sheet-overlay">
      <div class="character-sheet-tabs">
        <div class="tablinks selected-tab" id="abilities"><p>Abilities</p></div>
        <div class="tablinks" id="class"><p>Class</p></div>
        <div class="tablinks" id="race"><p>Race</p></div>
        <div class="tablinks-filler"></div>
      </div>
      <div class="character-sheet-data-container">
        <div class="character-sheet-tab-contents" id="abilities-tab-contents">
          <table>
            <tr>
              <td class="ability-title">STR: </td>
              <td><input class="ability-input" type="number" id="strength-input"></td>
              <td class="ability-modifier strength-modifier " id="strength-mod">(0)</td>
            </tr>
            <tr>
              <td class="ability-title">DEX: </td>
              <td><input class="ability-input" type="number" id="dexterity-input"></td>
              <td class="ability-modifier dexterity-modifier " id="dexterity-mod">(0)</td>
            </tr>
            <tr>
              <td class="ability-title">CON: </td>
              <td class="ability-input"><input class="ability-input" type="number" id="constitution-input"></td>
              <td class="ability-modifier constitution-modifier " id="constitution-mod">(0)</td>
            </tr>
            <tr>
              <td class="ability-title">INT: </td>
              <td class="ability-input"><input class="ability-input" type="number" id="intelligence-input"></td>
              <td class="ability-modifier intelligence-modifier " id="intelligence-mod">(0)</td>
            </tr>
            <tr>
              <td class="ability-title">WIS: </td>
              <td class="ability-input"><input class="ability-input" type="number" id="wisdom-input"></td>
              <td class="ability-modifier wisdom-modifier  " id="wisdom-mod">(0)</td>
            </tr>
            <tr>
              <td class="ability-title">CHA: </td>
              <td class="ability-input"><input class="ability-input" type="number" id="charisma-input"></td>
              <td class="ability-modifier charisma-modifier " id="charisma-mod">(0)</td>
            </tr>
          </table>
        </div>
        <div class="class-stats character-sheet-tab-contents hidden" id="class-tab-contents">
          <div class="class-selection">
            <h3>Class: </h3>
            <div class="class-selector dropdown-head">
              <p class="selected-class">Select Class</p>
              <div class="dropdown">
                <div class="class-options dropdown-content hidden">
                  <div class="barbarian-option">Barbarian</div>
                  <div class="bard-option">Bard</div>
                  <div class="cleric-option">Cleric</div>
                  <div class="druid-option">Druid</div>
                  <div class="fighter-option">Fighter</div>
                  <div class="monk-option">Monk</div>
                  <div class="paladin-option">Paladin</div>
                  <div class="ranger-option">Ranger</div>
                  <div class="rogue-option">Rogue</div>
                  <div class="sourcerer-option">Sorcerer</div>
                  <div class="warlock-option">Warlock</div>
                  <div class="wizard-option">Wizard</div>
                  <div class="default-option">Select Class</div>
                </div>
              </div>
            </div>
          </div>
          <div class="data-display">
            <div class="data-display-row">
              <h3>Saving Throws: </h3>
              <p class="saving-throw-display"></p>
            </div>
            <div class="data-display-row">
              <h3>Weapons: </h3>
              <p class="weapons-display"></p>
            </div>
            <div class="data-display-row">
              <h3>Armor: </h3>
              <p class="armor-display"></p>
            </div>
            <div class="data-display-row">
              <h3>Tools: </h3>
              <p class="tools-display"></p>
            </div>
            <h3>Skills</h3>
            <div class="class-skills-div">
            </div>
            <div class="display-horizontal hidden" id="spell-book-option-div">
              <p class="use-spell-book-text">Use Wizard Spell Book</p>
              <input type="checkbox" id="use-spell-book">
            </div>
            <h3>Spells</h3>
            <div class="class-spell-div">
            </div>
            <h3>Cantrips</h3>
            <div class="class-cantrip-div">
            </div>
          </div>
        </div>
        <div class="race-stats character-sheet-tab-contents hidden" id="race-tab-contents">
          <div class="race-selection">
            <h3>Race: </h3>
            <div class="race-selector dropdown-head">
              <p class="selected-race">Select Race</p>
              <div class="dropdown">
                <div class="race-options dropdown-content hidden">
                  <div>Dragonborn</div>
                  <div>Drow</div>
                  <div>Forest Gnome</div>
                  <div>Rock Gnome</div>
                  <div>Half Elf</div>
                  <div>High Elf</div>
                  <div>Wood Elf</div>
                  <div>Half Orc</div>
                  <div>Hill Dwarf</div>
                  <div>Mountain Dwarf</div>
                  <div>Human</div>
                  <div>Lightfoot Halfling</div>
                  <div>Stout Halfling</div>
                  <div>Tiefling</div>
                </div>
              </div>
            </div>
          </div>
          <div class="race-abilities">
              <h3>Abilities </h3>
              <table class="race-abilities-table">
              </table>
          </div>
          <div class="race-size-speed">
            <div>
              <h3>Size: </h3>
              <p class="race-size"></p>
            </div>
            <div>
              <h3>Speed: </h3>
              <p class="speed-num">0</p>
            </div>
          </div>
          <div class="race-traits">
            <h3>Traits</h3>
            <div class="trait-list">
            </div>
          </div>
          <div class="race-skills">
            <h3>Skills</h3>
            <div class="skill-list">
            </div>
          </div>
          <div class="race-languages">
            <h3>Languages</h3>
            <div class="language-list">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mobile-hidden" id="image-area">
    <h2>Images</h2>
    <div id="images"></div>
  </div>
  <div id="right-side">
    <div id="right-container">
      <div id="mobile-buttons">
        <button id="toggle-imgs">Images</button>
        <button id="toggle-chat">Chat</button>
      </div>
      <div id="player-stats">
        <div class="display-horizontal">
          <h3>Level: </h3>
          <input type="number" id="player-level-input">
        </div>
        <div class="player-stat-row">
          <div class="player-stat-column" id="damage">
            <h3>Damage</h3>
            <input type="number" id="damage-input" placeholder=""/>
          </div>
          <div class="player-stat-column" id="health">
            <h3 class="max-health-label">Max Health</h3>
            <input type="number" class="max-health">
            <h3 id="health-label">Health</h3>
            <p id="health-num">0</p>
            <button id="update-health-button" onclick="updateHealth()">Update Health</button>
          </div>
          <div class="player-stat-column" id="heal">
            <h3>Heal</h3>
            <input type="number" id="heal-input" placeholder=""/>
          </div>
        </div>
        <div class="player-stat-row">
          <div class="armor-class-div">
            <p id="armor-class-text">Armor Class: </p>
            <input type="number" id="ac-input">
            <p id="speed-text">Speed: </p>
            <input type="number" id="speed-input">
            <p id="initiative-modifier-text">Initiative: </p>
            <input type="number" id="initiative-modifier-input">
          </div>
        </div>

      <!-- PLAYER STATS DISPLAY TABS -->
        <div class="player-stats-display-tabs">
          <div class="player-display-tablink selected-tab" id="skill-ability-tab">Skills/Abilities</div>
          <div class="player-display-tablink" id="combat-tab">Combat</div>
          <div class="tablinks-filler"></div>
        </div>
        <div class="player-stats-display-pages">
          <div class="player-stats-display-page" id="skill-ability-container">
            <table class="skills-table">
              <thead>
                <tr>
                  <th>Skills</th>
                </tr>
              </thead>
              <tr>
                <td class="skill-title">Athletics(STR): </td>
                <td><h3 id="athletics-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Acrobatics(DEX): </td>
                <td><h3 id="acrobatics-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Sleight of Hand(DEX): </td>
                <td><h3 id="sleight-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Stealth(DEX): </td>
                <td><h3 id="stealth-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Arcana(INT): </td>
                <td><h3 id="arcana-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">History(INT): </td>
                <td><h3 id="history-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Investigation(INT): </td>
                <td><h3 id="investigation-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Nature(INT): </td>
                <td><h3 id="nature-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Religion(INT): </td>
                <td><h3 id="religion-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Animal Handling(WIS): </td>
                <td><h3 id="animal-handling-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Insight(WIS): </td>
                <td><h3 id="insight-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Medicine(WIS): </td>
                <td><h3 id="medicine-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Perception(WIS): </td>
                <td><h3 id="perception-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Survival(WIS): </td>
                <td><h3 id="survival-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Deception(CHA): </td>
                <td><h3 id="deception-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Intimidation(CHA): </td>
                <td><h3 id="intimidation-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Performance(CHA): </td>
                <td><h3 id="performance-num"></h3></td>
              </tr>
              <tr>
                <td class="skill-title">Persuasion(CHA): </td>
                <td><h3 id="persuasion-num"></h3></td>
              </tr>
            </table>
            <table class="ability-table">
              <thead>
                <tr>
                  <th>
                    Abilities
                  </th>
                </tr>
              </thead>
              <tr>
                <td class="ability-title">STR: </td>
                <td><h3 class="strength-num"></h3></td>
                <td class="ability-modifier strength-modifier strength-modifier-usable">(0)</td>
              </tr>
              <tr>
                <td class="ability-title">DEX: </td>
                <td><h3 class="dexterity-num"></h3></td>
                <td class="ability-modifier dexterity-modifier dexterity-modifier-usable">(0)</td>
              </tr>
              <tr>
                <td class="ability-title">CON: </td>
                <td><h3 class="constitution-num"></h3></td>
                <td class="ability-modifier constitution-modifier constitution-modifier-usable">(0)</td>
              </tr>
              <tr>
                <td class="ability-title">INT: </td>
                <td><h3 class="intelligence-num"></h3></td>
                <td class="ability-modifier intelligence-modifier intelligence-modifier-usable">(0)</td>
              </tr>
              <tr>
                <td class="ability-title">WIS: </td>
                <td><h3 class="wisdom-num"></h3></td>
                <td class="ability-modifier wisdom-modifier wisdom-modifier-usable">(0)</td>
              </tr>
              <tr>
                <td class="ability-title">CHA: </td>
                <td><h3 class="charisma-num"></h3></td>
                <td class="ability-modifier charisma-modifier charisma-modifier-usable">(0)</td>
              </tr>
            </table>
          </div>
          <div class="player-stats-display-page hidden" id="combat-container">
            <div class="weapons-display">
            </div>
            <div class="spells-display">
            </div>
            <div class="actions-display">
              <h3>Actions (1 per Turn)</h3>
              <div class="action-list">
                <p><b>Attack: </b>Make a melee or ranged weapon attack</p>
                <p><b>Cast a Spell: </b>Cast a spell with a casting time of 1 action</p>
                <p><b>Dash: </b>Double your movement speed for the turn</p>
                <p><b>Disengage: </b>Avoid opportunity attacks when moving</p>
                <p><b>Dodge: </b>Enemies have disadvantage to hit you; You have advantage on Dexterity saves</p>
                <p><b>Help: </b>Give an ally advantage on an ability check or attack</p>
                <p><b>Hide: </b>Attempt to become unseen if you have cover</p>
                <p><b>Ready: </b>Prepare a reaction to do something later in the round</p>
                <p><b>Search: </b>Look for something</p>
                <p><b>Use Object: </b>Interact with an item</p>
              </div>
              <h3>Movement (1 per Turn)</h3>
              <div class="movement-list">
                <p><b>Move: </b>Move up to your speed broken up however you want between actions</p>
              </div>
              <h3>Bonus Action (1 per Turn)</h3>
              <div class="bonus-action-list">
              </div>
              <h3>Reaction (1 per Round)</h3>
              <div class="reaction-list">
                <p><b>Opportunity Attack: </b>Make a melee attack if a creature leaves your melee reach without disengaging</p>
              </div>
            </div>
          </div>
        </div>
        <!-- END PLAYER STATS TABS -->

      </div>
    </div>
    <div class="mobile-hidden" id="chat-area">
      <h2>Chat</h2>
      <div id="chat"></div>
      <div id="input-area">
        <input id="msg" placeholder="Message to DM" autocomplete="off" />
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </div>
</body>
</html>
